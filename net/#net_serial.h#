/*
Czech_mate by Daniel
This file is part of Czech_mate.

Czech_mate is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License Version 2 as published by
the Free Software Foundation, 

Czech_mate is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Czech_mate.  If not, see <http://www.gnu.org/licenses/>.
*/
#ifndef NET_SERIAL_H
	#define NET_SERIAL_H
	#include "cstdio"
	#include "iostream"
	#define NET_SERIAL_PACKET_START	(char*)"\x31"
	class net_serial_connection_info_t{
	public:
		net_serial_connection_info_t();
		int file_descriptor;
	};
	class net_serial_outbound_data_t{
	public:
		std::string data;
		net_serial_connection_info_t connection_info;
	};
	class net_serial_t{
	private:
		std::string packet;
	public:
		std::vector<net_serial_outbound_data_t> outbound_data;
		std::vector<std::string> inbound_data;
		std::vector<net_serial_connection_info_t> inbound_socket;
		void blank();
		net_serial_t(int, char**);
		void loop();
		void close();
		void read(char*, int);
		void write(std::string, net_serial_connection_info_t);
	};
#endif
